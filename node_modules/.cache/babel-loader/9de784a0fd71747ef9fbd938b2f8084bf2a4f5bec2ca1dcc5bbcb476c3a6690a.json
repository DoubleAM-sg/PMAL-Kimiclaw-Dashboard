{"ast":null,"code":"import React,{useState,useEffect}from'react';import Overview from'./components/Overview';import Competitors from'./components/Competitors';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[currentPage,setCurrentPage]=useState('overview');const[data,setData]=useState(null);const[loading,setLoading]=useState(true);const[currentTime,setCurrentTime]=useState(new Date());useEffect(()=>{// Load data from JSON file\nfetch('/PMAL-Kimiclaw-Dashboard/data/intel.json').then(res=>res.json()).then(data=>{setData(data);setLoading(false);}).catch(err=>{console.error('Failed to load data:',err);setLoading(false);});const timer=setInterval(()=>setCurrentTime(new Date()),60000);return()=>clearInterval(timer);},[]);const formatTime=date=>{return date.toLocaleString('en-SG',{timeZone:'Asia/Singapore',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading dashboard...\\u23F3\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"logo-icon\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"PMAL Competitor Tracker\"})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"nav\",children:[/*#__PURE__*/_jsx(\"button\",{className:currentPage==='overview'?'active':'',onClick:()=>setCurrentPage('overview'),children:\"Overview\"}),/*#__PURE__*/_jsx(\"button\",{className:currentPage==='competitors'?'active':'',onClick:()=>setCurrentPage('competitors'),children:\"Competitors\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"last-updated\",children:[formatTime(currentTime),\" SGT\"]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[data&&currentPage==='overview'&&/*#__PURE__*/_jsx(Overview,{data:data}),data&&currentPage==='competitors'&&/*#__PURE__*/_jsx(Competitors,{data:data.competitors})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Data verified: \",data!==null&&data!==void 0&&data.lastUpdated?new Date(data.lastUpdated).toLocaleString('en-SG'):'Unknown',\" \\xB7 Click \\u2705 Done to send update to Telegram\"]})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Overview","Competitors","jsx","_jsx","jsxs","_jsxs","App","currentPage","setCurrentPage","data","setData","loading","setLoading","currentTime","setCurrentTime","Date","fetch","then","res","json","catch","err","console","error","timer","setInterval","clearInterval","formatTime","date","toLocaleString","timeZone","month","day","hour","minute","className","children","onClick","competitors","lastUpdated"],"sources":["/root/.openclaw/workspace/pmal-dashboard/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Overview from './components/Overview';\nimport Competitors from './components/Competitors';\nimport './App.css';\n\nfunction App() {\n  const [currentPage, setCurrentPage] = useState('overview');\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [currentTime, setCurrentTime] = useState(new Date());\n\n  useEffect(() => {\n    // Load data from JSON file\n    fetch('/PMAL-Kimiclaw-Dashboard/data/intel.json')\n      .then(res => res.json())\n      .then(data => {\n        setData(data);\n        setLoading(false);\n      })\n      .catch(err => {\n        console.error('Failed to load data:', err);\n        setLoading(false);\n      });\n\n    const timer = setInterval(() => setCurrentTime(new Date()), 60000);\n    return () => clearInterval(timer);\n  }, []);\n\n  const formatTime = (date) => {\n    return date.toLocaleString('en-SG', { \n      timeZone: 'Asia/Singapore',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"app\">\n        <div className=\"loading\">Loading dashboard...‚è≥</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"app\">\n      <header className=\"header\">\n        <div className=\"logo\">\n          <span className=\"logo-icon\">üìä</span>\n          <h1>PMAL Competitor Tracker</h1>\n        </div>\n        <nav className=\"nav\">\n          <button \n            className={currentPage === 'overview' ? 'active' : ''}\n            onClick={() => setCurrentPage('overview')}\n          >\n            Overview\n          </button>\n          <button \n            className={currentPage === 'competitors' ? 'active' : ''}\n            onClick={() => setCurrentPage('competitors')}\n          >\n            Competitors\n          </button>\n        </nav>\n        <span className=\"last-updated\">{formatTime(currentTime)} SGT</span>\n      </header>\n\n      <main className=\"main\">\n        {data && currentPage === 'overview' && <Overview data={data} />}\n        {data && currentPage === 'competitors' && <Competitors data={data.competitors} />}\n      </main>\n\n      <footer className=\"footer\">\n        <p>Data verified: {data?.lastUpdated ? new Date(data.lastUpdated).toLocaleString('en-SG') : 'Unknown'} ¬∑ Click ‚úÖ Done to send update to Telegram</p>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}