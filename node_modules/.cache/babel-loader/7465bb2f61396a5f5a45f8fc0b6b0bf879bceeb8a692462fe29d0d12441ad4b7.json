{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Overview(_ref){let{data}=_ref;const[completedActions,setCompletedActions]=useState([]);const todayChanges=(data===null||data===void 0?void 0:data.todayChanges)||[];const suggestedActions=(data===null||data===void 0?void 0:data.suggestedActions)||[];const weekActivity=(data===null||data===void 0?void 0:data.weekActivity)||[];const generateTelegramLink=(actionId,actionText)=>{const message=\"/done action-\".concat(actionId,\": \").concat(actionText);return\"https://t.me/Clementteojr?text=\".concat(encodeURIComponent(message));};const markDone=actionId=>{setCompletedActions([...completedActions,actionId]);};const getTypeIcon=type=>{switch(type){case'ads':return'üì¢';case'content':return'üìù';case'messaging':return'üí¨';default:return'üîÑ';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"overview\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"briefing-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Today's Briefing\"}),/*#__PURE__*/_jsx(\"span\",{className:\"briefing-date\",children:data!==null&&data!==void 0&&data.lastUpdated?new Date(data.lastUpdated).toLocaleDateString('en-SG',{month:'short',day:'numeric',year:'numeric'}):'Unknown date'})]}),todayChanges.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"changes-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[todayChanges.length,\" Changes Detected\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"changes-list\",children:todayChanges.map((change,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"change-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"change-number\",children:idx+1}),/*#__PURE__*/_jsxs(\"div\",{className:\"change-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"change-header-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"change-icon\",children:getTypeIcon(change.type)}),/*#__PURE__*/_jsx(\"span\",{className:\"change-competitor\",children:change.competitor}),/*#__PURE__*/_jsx(\"span\",{className:\"verified-badge\",children:\"\\u2713 Verified\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"change-desc\",children:change.change}),/*#__PURE__*/_jsxs(\"div\",{className:\"change-source\",children:[\"Source: \",change.source]}),/*#__PURE__*/_jsxs(\"a\",{href:change.link,target:\"_blank\",rel:\"noopener noreferrer\",className:\"change-link\",children:[change.linkText,\" \\u2192\"]})]})]},change.id))})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"changes-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No Changes Today\"}),/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:\"No competitor activity detected in the last 24 hours.\"})]}),suggestedActions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"actions-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Suggested Actions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"actions-list\",children:suggestedActions.map(action=>{const isDone=completedActions.includes(action.id);return/*#__PURE__*/_jsxs(\"div\",{className:\"action-item \".concat(isDone?'completed':'',\" priority-\").concat(action.priority),children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-checkbox\",children:isDone?'‚úì':'‚óã'}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-text\",children:action.text}),action.context&&/*#__PURE__*/_jsx(\"div\",{className:\"action-context\",children:action.context}),!isDone&&/*#__PURE__*/_jsx(\"div\",{className:\"action-buttons\",children:/*#__PURE__*/_jsx(\"a\",{href:generateTelegramLink(action.id,action.text),className:\"action-btn done\",target:\"_blank\",rel:\"noopener noreferrer\",onClick:()=>markDone(action.id),children:\"\\u2705 Done\"})}),isDone&&/*#__PURE__*/_jsx(\"span\",{className:\"completed-label\",children:\"Completed\"})]})]},action.id);})})]}),weekActivity.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"week-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"This Week's Activity\"}),/*#__PURE__*/_jsx(\"div\",{className:\"week-list\",children:weekActivity.map((item,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"week-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"week-day\",children:item.day}),/*#__PURE__*/_jsx(\"span\",{className:\"week-competitor\",children:item.competitor}),/*#__PURE__*/_jsx(\"span\",{className:\"week-change\",children:item.change})]},idx))}),/*#__PURE__*/_jsx(\"button\",{className:\"view-all-link\",onClick:()=>{var _document$querySelect;return(_document$querySelect=document.querySelector('.nav button:last-child'))===null||_document$querySelect===void 0?void 0:_document$querySelect.click();},children:\"View All Competitors \\u2192\"})]})]});}export default Overview;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Overview","_ref","data","completedActions","setCompletedActions","todayChanges","suggestedActions","weekActivity","generateTelegramLink","actionId","actionText","message","concat","encodeURIComponent","markDone","getTypeIcon","type","className","children","lastUpdated","Date","toLocaleDateString","month","day","year","length","map","change","idx","competitor","source","href","link","target","rel","linkText","id","action","isDone","includes","priority","text","context","onClick","item","_document$querySelect","document","querySelector","click"],"sources":["/root/.openclaw/workspace/pmal-dashboard/src/components/Overview.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction Overview({ data }) {\n  const [completedActions, setCompletedActions] = useState([]);\n\n  const todayChanges = data?.todayChanges || [];\n  const suggestedActions = data?.suggestedActions || [];\n  const weekActivity = data?.weekActivity || [];\n\n  const generateTelegramLink = (actionId, actionText) => {\n    const message = `/done action-${actionId}: ${actionText}`;\n    return `https://t.me/Clementteojr?text=${encodeURIComponent(message)}`;\n  };\n\n  const markDone = (actionId) => {\n    setCompletedActions([...completedActions, actionId]);\n  };\n\n  const getTypeIcon = (type) => {\n    switch (type) {\n      case 'ads': return 'üì¢';\n      case 'content': return 'üìù';\n      case 'messaging': return 'üí¨';\n      default: return 'üîÑ';\n    }\n  };\n\n  return (\n    <div className=\"overview\">\n      <div className=\"briefing-header\">\n        <h2>Today's Briefing</h2>\n        <span className=\"briefing-date\">\n          {data?.lastUpdated ? new Date(data.lastUpdated).toLocaleDateString('en-SG', { \n            month: 'short', day: 'numeric', year: 'numeric' \n          }) : 'Unknown date'}\n        </span>\n      </div>\n\n      {todayChanges.length > 0 ? (\n        <div className=\"changes-section\">\n          <h3>{todayChanges.length} Changes Detected</h3>\n          \n          <div className=\"changes-list\">\n            {todayChanges.map((change, idx) => (\n              <div key={change.id} className=\"change-item\">\n                <div className=\"change-number\">{idx + 1}</div>\n                <div className=\"change-content\">\n                  <div className=\"change-header-row\">\n                    <span className=\"change-icon\">{getTypeIcon(change.type)}</span>\n                    <span className=\"change-competitor\">{change.competitor}</span>\n                    <span className=\"verified-badge\">‚úì Verified</span>\n                  </div>\n                  <div className=\"change-desc\">{change.change}</div>\n                  <div className=\"change-source\">Source: {change.source}</div>\n                  <a \n                    href={change.link} \n                    target=\"_blank\" \n                    rel=\"noopener noreferrer\"\n                    className=\"change-link\"\n                  >\n                    {change.linkText} ‚Üí\n                  </a>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      ) : (\n        <div className=\"changes-section\">\n          <h3>No Changes Today</h3>\n          <p className=\"no-data\">No competitor activity detected in the last 24 hours.</p>\n        </div>\n      )}\n\n      {suggestedActions.length > 0 && (\n        <div className=\"actions-section\">\n          <h3>Suggested Actions</h3>\n          \n          <div className=\"actions-list\">\n            {suggestedActions.map(action => {\n              const isDone = completedActions.includes(action.id);\n              \n              return (\n                <div key={action.id} className={`action-item ${isDone ? 'completed' : ''} priority-${action.priority}`}>\n                  <div className=\"action-checkbox\">\n                    {isDone ? '‚úì' : '‚óã'}\n                  </div>\n                  <div className=\"action-content\">\n                    <div className=\"action-text\">{action.text}</div>\n                    {action.context && (\n                      <div className=\"action-context\">{action.context}</div>\n                    )}\n                    {!isDone && (\n                      <div className=\"action-buttons\">\n                        <a \n                          href={generateTelegramLink(action.id, action.text)}\n                          className=\"action-btn done\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          onClick={() => markDone(action.id)}\n                        >\n                          ‚úÖ Done\n                        </a>\n                      </div>\n                    )}\n                    {isDone && (\n                      <span className=\"completed-label\">Completed</span>\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n\n      {weekActivity.length > 0 && (\n        <div className=\"week-section\">\n          <h3>This Week's Activity</h3>\n          \n          <div className=\"week-list\">\n            {weekActivity.map((item, idx) => (\n              <div key={idx} className=\"week-item\">\n                <span className=\"week-day\">{item.day}</span>\n                <span className=\"week-competitor\">{item.competitor}</span>\n                <span className=\"week-change\">{item.change}</span>\n              </div>\n            ))}\n          </div>\n          \n          <button \n            className=\"view-all-link\"\n            onClick={() => document.querySelector('.nav button:last-child')?.click()}\n          >\n            View All Competitors ‚Üí\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Overview;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}